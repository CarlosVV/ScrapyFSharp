<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Simulate a browser
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Reborn of Scrapysharp in FSharp"/>
    <meta name="author" content="rflechner"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/ScrapyFSharp/content/style.css" />
    <script type="text/javascript" src="/ScrapyFSharp/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/rflechner/ScrapyFSharp">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/ScrapyFSharp/index.html">ScrapyFSharp</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Simulate-a-browser" class="anchor" href="#Simulate-a-browser">Simulate a browser</a></h1>
<p>This module help you to navigate on a website.
Cookies, Referer, etc are automatically handled.</p>
<h3><a name="Openning-namespaces" class="anchor" href="#Openning-namespaces">Openning namespaces</a></h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">Net</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="i">ScrapyFSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">Network</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Creating-a-browser" class="anchor" href="#Creating-a-browser">Creating a browser</a></h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="i">b1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="t">ScrapingBrowser</span>()
</code></pre></td>
</tr>
</table>
<p>Some fake user agents are available</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs5', 8)" onmouseover="showTip(event, 'fs5', 8)" class="i">b1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">UserAgent</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="t">FakeUserAgent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="i">Chrome</span>
</code></pre></td>
</tr>
</table>
<p>Enable redirect headers hanling</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs5', 12)" onmouseover="showTip(event, 'fs5', 12)" class="i">b1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="i">AllowAutoRedirect</span> <span class="o">&lt;-</span> <span class="k">true</span>
</code></pre></td>
</tr>
</table>
<p>Enable redirects via HTML meta like 'meta http-equiv="refresh"'</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs5', 14)" onmouseover="showTip(event, 'fs5', 14)" class="i">b1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="i">AllowMetaRedirect</span> <span class="o">&lt;-</span> <span class="k">true</span>
</code></pre></td>
</tr>
</table>
<p>Sometimes, default .Net cookies parser can throw exception when you are scraping old java websites
So, you can use this workaround.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs5', 16)" onmouseover="showTip(event, 'fs5', 16)" class="i">b1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 17)" onmouseover="showTip(event, 'fs12', 17)" class="i">UseDefaultCookiesParser</span> <span class="o">&lt;-</span> <span class="k">false</span>
</code></pre></td>
</tr>
</table>
<p>If you are scraping GZIP compressed web pages, you can specify the decompression method.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs5', 18)" onmouseover="showTip(event, 'fs5', 18)" class="i">b1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="i">DecompressionMethod</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="t">DecompressionMethods</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="i">GZip</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Another-syntax-to-create-browser" class="anchor" href="#Another-syntax-to-create-browser">Another syntax to create browser</a></h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 23)" onmouseover="showTip(event, 'fs17', 23)" class="i">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 24)" onmouseover="showTip(event, 'fs18', 24)" class="f">browser</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs19', 25)" onmouseover="showTip(event, 'fs19', 25)" class="i">c</span> <span class="k">-&gt;</span> { <span onmouseout="hideTip(event, 'fs19', 26)" onmouseover="showTip(event, 'fs19', 26)" class="i">c</span> <span class="k">with</span> <span class="i">UserAgent</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs8', 27)" onmouseover="showTip(event, 'fs8', 27)" class="t">FakeUserAgent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 28)" onmouseover="showTip(event, 'fs20', 28)" class="i">InternetExplorer8</span> })
</code></pre></td>
</tr>
</table>
<h2><a name="Simply-download-a-raw-content-as-text" class="anchor" href="#Simply-download-a-raw-content-as-text">Simply download a raw content as text</a></h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 29)" onmouseover="showTip(event, 'fs21', 29)" class="i">text1</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs22', 30)" onmouseover="showTip(event, 'fs22', 30)" class="i">async</span> {
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="i">b</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 32)" onmouseover="showTip(event, 'fs23', 32)" class="f">DownloadString</span>(<span onmouseout="hideTip(event, 'fs24', 33)" onmouseover="showTip(event, 'fs24', 33)" class="t">Uri</span> <span class="s">&quot;http://www.youscribe.com/&quot;</span>)
    } <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 34)" onmouseover="showTip(event, 'fs25', 34)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 35)" onmouseover="showTip(event, 'fs26', 35)" class="f">RunSynchronously</span>
</code></pre></td>
</tr>
</table>
<p>text1 value is:</p>
<table class="pre"><tr><td><pre><code>"&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#"&gt;
&lt;head&gt;&lt;scrip ... [truncated]"</code></pre></td></tr></table>
<p>end ...</p>
<h2><a name="Simulate-a-form-submit-and-parsing-result" class="anchor" href="#Simulate-a-form-submit-and-parsing-result">Simulate a form submit and parsing result</a></h2>
<p>In this example, you can save the browser state after each page download.
It can be usefull if you plan to parallelize your scraping on multiples machines, just pause a job,
or if you are implementing a saga.</p>
<p>In the following example, we search .Net books on Youscribe</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs29', 39)" onmouseover="showTip(event, 'fs29', 39)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 40)" onmouseover="showTip(event, 'fs30', 40)" class="i">Data</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 41)" onmouseover="showTip(event, 'fs3', 41)" class="i">ScrapyFSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 42)" onmouseover="showTip(event, 'fs31', 42)" class="i">CssSelectorExtensions</span>

<span class="c">// small hack because HtmlNode.HtmlText is internal</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 43)" onmouseover="showTip(event, 'fs32', 43)" class="f">nodeText</span> (<span onmouseout="hideTip(event, 'fs33', 44)" onmouseover="showTip(event, 'fs33', 44)" class="i">n</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs34', 45)" onmouseover="showTip(event, 'fs34', 45)" class="t">HtmlNode</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs33', 46)" onmouseover="showTip(event, 'fs33', 46)" class="i">n</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 47)" onmouseover="showTip(event, 'fs35', 47)" class="f">DescendantsAndSelf</span>() 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 48)" onmouseover="showTip(event, 'fs36', 48)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 49)" onmouseover="showTip(event, 'fs37', 49)" class="f">tryFind</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs38', 50)" onmouseover="showTip(event, 'fs38', 50)" class="i">c</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs38', 51)" onmouseover="showTip(event, 'fs38', 51)" class="i">c</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs39', 52)" onmouseover="showTip(event, 'fs39', 52)" class="f">Name</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs40', 53)" onmouseover="showTip(event, 'fs40', 53)" class="t">String</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 54)" onmouseover="showTip(event, 'fs41', 54)" class="f">IsNullOrEmpty</span>)
    <span class="o">|&gt;</span> <span class="k">function</span>
       | <span onmouseout="hideTip(event, 'fs14', 55)" onmouseover="showTip(event, 'fs14', 55)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs42', 56)" onmouseover="showTip(event, 'fs42', 56)" class="i">e</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 57)" onmouseover="showTip(event, 'fs42', 57)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 58)" onmouseover="showTip(event, 'fs43', 58)" class="f">InnerText</span>()
       | <span onmouseout="hideTip(event, 'fs44', 59)" onmouseover="showTip(event, 'fs44', 59)" class="p">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 60)" onmouseover="showTip(event, 'fs33', 60)" class="i">n</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 61)" onmouseover="showTip(event, 'fs43', 61)" class="f">InnerText</span>()

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 62)" onmouseover="showTip(event, 'fs45', 62)" class="i">books</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs22', 63)" onmouseover="showTip(event, 'fs22', 63)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs46', 64)" onmouseover="showTip(event, 'fs46', 64)" class="i">state1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 65)" onmouseover="showTip(event, 'fs17', 65)" class="i">b</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 66)" onmouseover="showTip(event, 'fs47', 66)" class="f">NavigateTo</span>(<span onmouseout="hideTip(event, 'fs24', 67)" onmouseover="showTip(event, 'fs24', 67)" class="t">Uri</span> <span class="s">&quot;http://www.youscribe.com/Search&quot;</span>, 
                        <span onmouseout="hideTip(event, 'fs48', 68)" onmouseover="showTip(event, 'fs48', 68)" class="p">Get</span>, <span onmouseout="hideTip(event, 'fs49', 69)" onmouseover="showTip(event, 'fs49', 69)" class="t">HttpRequestData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 70)" onmouseover="showTip(event, 'fs50', 70)" class="p">FormData</span> [<span class="s">&quot;quick_search&quot;</span>, <span class="s">&quot;.net&quot;</span>; <span class="s">&quot;theme_id&quot;</span>, <span class="s">&quot;99&quot;</span>])
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 71)" onmouseover="showTip(event, 'fs51', 71)" class="i">homePage</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs46', 72)" onmouseover="showTip(event, 'fs46', 72)" class="i">state1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 73)" onmouseover="showTip(event, 'fs52', 73)" class="f">WebPage</span>()
        <span class="k">return</span> 
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs51', 74)" onmouseover="showTip(event, 'fs51', 74)" class="i">homePage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 75)" onmouseover="showTip(event, 'fs53', 75)" class="f">Html</span>() <span class="k">with</span> 
            | <span onmouseout="hideTip(event, 'fs14', 76)" onmouseover="showTip(event, 'fs14', 76)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs54', 77)" onmouseover="showTip(event, 'fs54', 77)" class="i">html</span> <span class="k">-&gt;</span>
                [ <span class="k">for</span> <span onmouseout="hideTip(event, 'fs55', 78)" onmouseover="showTip(event, 'fs55', 78)" class="i">div</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs54', 79)" onmouseover="showTip(event, 'fs54', 79)" class="i">html</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 80)" onmouseover="showTip(event, 'fs56', 80)" class="f">CssSelect</span> <span class="s">&quot;div.explore-item.explore-doc .document-infos&quot;</span> <span class="k">do</span>
                    <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs32', 81)" onmouseover="showTip(event, 'fs32', 81)" class="f">nodeText</span> <span onmouseout="hideTip(event, 'fs55', 82)" onmouseover="showTip(event, 'fs55', 82)" class="i">div</span> ]
            | <span onmouseout="hideTip(event, 'fs44', 83)" onmouseover="showTip(event, 'fs44', 83)" class="p">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs57', 84)" onmouseover="showTip(event, 'fs57', 84)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 85)" onmouseover="showTip(event, 'fs58', 85)" class="i">empty</span>
    } <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 86)" onmouseover="showTip(event, 'fs25', 86)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 87)" onmouseover="showTip(event, 'fs26', 87)" class="f">RunSynchronously</span>
</code></pre></td>
</tr>
</table>
<p>books value is:</p>
<table class="pre"><tr><td><pre><code>[" .NET "; " .NET Gotchas "; " Programming .NET Security ";
 " Programming .NET Windows Applications "; " ADO.NET 3.5 Cookbook ";
 " VB.NET Language Pocket Reference "; " Learning Visual Basic .NET ";
 " Programming ASP.NET "; " Getting Started with .NET Gadgeteer ";
 " ASP.NET 2.0 Cookbook "; " ADO.NET in a Nutshell ";
 " Programming ASP.NET AJAX "; " C# et .NET ";
 " Application de getion de commande en asp.net ";
 " Programming .NET Components ";
 " RabbitMQ guide utilisateur du client .NET version 1.5.0 ";
 " Programming ASP.NET MVC 4 "; " C# et .NET Version 2 ";
 " Programming .NET 3.5 "; " Learning ASP.NET 2.0 with AJAX ";
 " The ASP.NET 2.0 Anthology "; " ASP.NET 2.0: A Developer";
 " Programming ASP.NET 3.5 "; " Build Your Own ASP.NET 4 Web Site Using C# "]</code></pre></td></tr></table>

<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Net</div>
<div class="tip" id="fs3">namespace ScrapyFSharp</div>
<div class="tip" id="fs4">module Network<br /><br />from ScrapyFSharp</div>
<div class="tip" id="fs5">val b1 : ScrapingBrowser<br /><br />Full name: NetworkExample.b1</div>
<div class="tip" id="fs6">Multiple items<br />type ScrapingBrowser =<br />&#160;&#160;new : unit -&gt; ScrapingBrowser<br />&#160;&#160;member private CreateRequest : url:Uri -&gt; verb:HttpVerb -&gt; HttpWebRequest<br />&#160;&#160;member DownloadFile : url:Uri -&gt; Async&lt;Stream&gt;<br />&#160;&#160;member DownloadString : url:Uri -&gt; Async&lt;string&gt;<br />&#160;&#160;member private ExecuteRequest : url:Uri * verb:HttpVerb * data:HttpRequestData option * iteration:int -&gt; Async&lt;BrowserState&gt;<br />&#160;&#160;member private GetResponse : url:Uri -&gt; request:HttpWebRequest -&gt; iteration:int -&gt; requestBody:byte array option -&gt; Async&lt;BrowserState&gt;<br />&#160;&#160;member GetWebResponse : url:Uri -&gt; request:HttpWebRequest -&gt; Async&lt;HttpWebResponse&gt;<br />&#160;&#160;member NavigateTo : url:Uri * ?verb:HttpVerb * ?data:HttpRequestData -&gt; Async&lt;BrowserState&gt;<br />&#160;&#160;member SetCookies : cookieUrl:Uri -&gt; exp:string -&gt; unit<br />&#160;&#160;member AllowAutoRedirect : bool<br />&#160;&#160;...<br /><br />Full name: ScrapyFSharp.Network.ScrapingBrowser<br /><br />--------------------<br />new : unit -&gt; ScrapingBrowser</div>
<div class="tip" id="fs7">property ScrapingBrowser.UserAgent: FakeUserAgent</div>
<div class="tip" id="fs8">type FakeUserAgent =<br />&#160;&#160;{Name: string;<br />&#160;&#160;&#160;UserAgent: string;}<br />&#160;&#160;static member Chrome : FakeUserAgent<br />&#160;&#160;static member Chrome24 : FakeUserAgent<br />&#160;&#160;static member InternetExplorer8 : FakeUserAgent<br /><br />Full name: ScrapyFSharp.Network.FakeUserAgent</div>
<div class="tip" id="fs9">property FakeUserAgent.Chrome: FakeUserAgent</div>
<div class="tip" id="fs10">property ScrapingBrowser.AllowAutoRedirect: bool</div>
<div class="tip" id="fs11">property ScrapingBrowser.AllowMetaRedirect: bool</div>
<div class="tip" id="fs12">property ScrapingBrowser.UseDefaultCookiesParser: bool</div>
<div class="tip" id="fs13">property ScrapingBrowser.DecompressionMethod: DecompressionMethods option</div>
<div class="tip" id="fs14">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs15">type DecompressionMethods =<br />&#160;&#160;| None = 0<br />&#160;&#160;| GZip = 1<br />&#160;&#160;| Deflate = 2<br /><br />Full name: System.Net.DecompressionMethods</div>
<div class="tip" id="fs16">field DecompressionMethods.GZip = 1</div>
<div class="tip" id="fs17">val b : ScrapingBrowser<br /><br />Full name: NetworkExample.b</div>
<div class="tip" id="fs18">val browser : f:(BrowserConfig -&gt; BrowserConfig) -&gt; ScrapingBrowser<br /><br />Full name: ScrapyFSharp.Network.browser</div>
<div class="tip" id="fs19">val c : BrowserConfig</div>
<div class="tip" id="fs20">property FakeUserAgent.InternetExplorer8: FakeUserAgent</div>
<div class="tip" id="fs21">val text1 : string<br /><br />Full name: NetworkExample.text1</div>
<div class="tip" id="fs22">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs23">member ScrapingBrowser.DownloadString : url:Uri -&gt; Async&lt;string&gt;</div>
<div class="tip" id="fs24">Multiple items<br />type Uri =<br />&#160;&#160;new : uriString:string -&gt; Uri + 5 overloads<br />&#160;&#160;member AbsolutePath : string<br />&#160;&#160;member AbsoluteUri : string<br />&#160;&#160;member Authority : string<br />&#160;&#160;member DnsSafeHost : string<br />&#160;&#160;member Equals : comparand:obj -&gt; bool<br />&#160;&#160;member Fragment : string<br />&#160;&#160;member GetComponents : components:UriComponents * format:UriFormat -&gt; string<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member GetLeftPart : part:UriPartial -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Uri<br /><br />--------------------<br />Uri(uriString: string) : unit<br />Uri(uriString: string, uriKind: UriKind) : unit<br />Uri(baseUri: Uri, relativeUri: string) : unit<br />Uri(baseUri: Uri, relativeUri: Uri) : unit</div>
<div class="tip" id="fs25">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs26">static member Async.RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:Threading.CancellationToken -&gt; &#39;T</div>
<div class="tip" id="fs27">val text1Truncated : string<br /><br />Full name: NetworkExample.text1Truncated</div>
<div class="tip" id="fs28">String.Substring(startIndex: int) : string<br />String.Substring(startIndex: int, length: int) : string</div>
<div class="tip" id="fs29">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs30">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs31">module CssSelectorExtensions<br /><br />from ScrapyFSharp</div>
<div class="tip" id="fs32">val nodeText : n:HtmlNode -&gt; string<br /><br />Full name: NetworkExample.nodeText</div>
<div class="tip" id="fs33">val n : HtmlNode</div>
<div class="tip" id="fs34">Multiple items<br />module HtmlNode<br /><br />from FSharp.Data<br /><br />--------------------<br />type HtmlNode =<br />&#160;&#160;private | HtmlElement of name: string * attributes: HtmlAttribute list * elements: HtmlNode list<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| HtmlText of content: string<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| HtmlComment of content: string<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| HtmlCData of content: string<br />&#160;&#160;override ToString : unit -&gt; string<br />&#160;&#160;static member NewComment : content:string -&gt; HtmlNode<br />&#160;&#160;static member NewElement : name:string -&gt; HtmlNode<br />&#160;&#160;static member NewElement : name:string * children:seq&lt;HtmlNode&gt; -&gt; HtmlNode<br />&#160;&#160;static member NewElement : name:string * attrs:seq&lt;string * string&gt; -&gt; HtmlNode<br />&#160;&#160;static member NewElement : name:string * attrs:seq&lt;string * string&gt; * children:seq&lt;HtmlNode&gt; -&gt; HtmlNode<br />&#160;&#160;static member NewText : content:string -&gt; HtmlNode<br />&#160;&#160;static member Parse : text:string -&gt; HtmlNode list<br />&#160;&#160;static member ParseRooted : rootName:string * text:string -&gt; HtmlNode<br /><br />Full name: FSharp.Data.HtmlNode</div>
<div class="tip" id="fs35">static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode -&gt; seq&lt;HtmlNode&gt;<br />static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode * predicate:(HtmlNode -&gt; bool) -&gt; seq&lt;HtmlNode&gt;<br />static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode * names:seq&lt;string&gt; -&gt; seq&lt;HtmlNode&gt;<br />static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode * name:string -&gt; seq&lt;HtmlNode&gt;<br />static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode * predicate:(HtmlNode -&gt; bool) * recurseOnMatch:bool -&gt; seq&lt;HtmlNode&gt;<br />static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode * names:seq&lt;string&gt; * recurseOnMatch:bool -&gt; seq&lt;HtmlNode&gt;<br />static member HtmlNodeExtensions.DescendantsAndSelf : n:HtmlNode * name:string * recurseOnMatch:bool -&gt; seq&lt;HtmlNode&gt;</div>
<div class="tip" id="fs36">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs37">val tryFind : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;T option<br /><br />Full name: Microsoft.FSharp.Collections.Seq.tryFind</div>
<div class="tip" id="fs38">val c : HtmlNode</div>
<div class="tip" id="fs39">static member HtmlNodeExtensions.Name : n:HtmlNode -&gt; string</div>
<div class="tip" id="fs40">Multiple items<br />type String =<br />&#160;&#160;new : value:char -&gt; string + 7 overloads<br />&#160;&#160;member Chars : int -&gt; char<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;member Contains : value:string -&gt; bool<br />&#160;&#160;member CopyTo : sourceIndex:int * destination:char[] * destinationIndex:int * count:int -&gt; unit<br />&#160;&#160;member EndsWith : value:string -&gt; bool + 2 overloads<br />&#160;&#160;member Equals : obj:obj -&gt; bool + 2 overloads<br />&#160;&#160;member GetEnumerator : unit -&gt; CharEnumerator<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;...<br /><br />Full name: System.String<br /><br />--------------------<br />String(value: nativeptr&lt;char&gt;) : unit<br />String(value: nativeptr&lt;sbyte&gt;) : unit<br />String(value: char []) : unit<br />String(c: char, count: int) : unit<br />String(value: nativeptr&lt;char&gt;, startIndex: int, length: int) : unit<br />String(value: nativeptr&lt;sbyte&gt;, startIndex: int, length: int) : unit<br />String(value: char [], startIndex: int, length: int) : unit<br />String(value: nativeptr&lt;sbyte&gt;, startIndex: int, length: int, enc: Text.Encoding) : unit</div>
<div class="tip" id="fs41">String.IsNullOrEmpty(value: string) : bool</div>
<div class="tip" id="fs42">val e : HtmlNode</div>
<div class="tip" id="fs43">static member HtmlNodeExtensions.InnerText : n:HtmlNode -&gt; string</div>
<div class="tip" id="fs44">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs45">val books : string list<br /><br />Full name: NetworkExample.books</div>
<div class="tip" id="fs46">val state1 : BrowserState</div>
<div class="tip" id="fs47">member ScrapingBrowser.NavigateTo : url:Uri * ?verb:HttpVerb * ?data:HttpRequestData -&gt; Async&lt;BrowserState&gt;</div>
<div class="tip" id="fs48">union case HttpVerb.Get: HttpVerb</div>
<div class="tip" id="fs49">type HttpRequestData =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Buffer of byte array<br />&#160;&#160;| ReadableData of Stream<br />&#160;&#160;| FormData of (string * string) list<br />&#160;&#160;member ToRawParams : unit -&gt; string<br />&#160;&#160;static member FromBytes : b:byte array -&gt; HttpRequestData<br />&#160;&#160;static member FromFormData : f:(string * string) list -&gt; HttpRequestData<br />&#160;&#160;static member FromStream : s:Stream -&gt; HttpRequestData<br />&#160;&#160;static member FromString : s:string -&gt; HttpRequestData<br /><br />Full name: ScrapyFSharp.Network.HttpRequestData</div>
<div class="tip" id="fs50">union case HttpRequestData.FormData: (string * string) list -&gt; HttpRequestData</div>
<div class="tip" id="fs51">val homePage : WebPage</div>
<div class="tip" id="fs52">member BrowserState.WebPage : ?autoDetectCharsetEncoding:bool -&gt; WebPage</div>
<div class="tip" id="fs53">member WebPage.Html : unit -&gt; HtmlDocument option</div>
<div class="tip" id="fs54">val html : HtmlDocument</div>
<div class="tip" id="fs55">val div : HtmlNode</div>
<div class="tip" id="fs56">static member CssSelectorExtensions.CssSelect : doc:HtmlDocument * selector:string -&gt; HtmlNode list<br /><em><br /><br />&#160;Gets descendants matched by Css selector</em></div>
<div class="tip" id="fs57">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs58">val empty&lt;&#39;T&gt; : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.empty</div>

        </div>
        <div class="span3">
          <img src="/ScrapyFSharp/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">ScrapyFSharp</li>
            <li><a href="/ScrapyFSharp/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/ScrapyFSharp">Get Library via NuGet</a></li>
            <li><a href="http://github.com/rflechner/ScrapyFSharp">Source Code on GitHub</a></li>
            <li><a href="/ScrapyFSharp/license.html">License</a></li>
            <li><a href="/ScrapyFSharp/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            
            <li><a href="/ScrapyFSharp/NetworkExample.html">Network</a></li>
            <li><a href="/ScrapyFSharp/HtmlCssSelectorsExample.html">HTML CSS selectors</a></li>

            <!--li class="nav-header">Documentation</!--li>
            <li><a href="/ScrapyFSharp/reference/index.html">API Reference</a></li-->
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/rflechner/ScrapyFSharp"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
